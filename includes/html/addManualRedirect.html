<h3 id="add_manual_redirect">{Add a Manual Redirect}</h3>

<form method="POST" action="{addManualRedirectAction}">
<input type="hidden" name="action" value="addRedirect">

<!-- - - - - - - - - - - - - - - - - - - - match this URL -->
<strong><label for="manual_redirect_url">{URL}:</label></strong>
<input id="manual_redirect_url" placeholder="{urlPlaceholder}" style="width: 200px;" type="text" name="manual_redirect_url" value="{postedURL}"> {(Required)}
<BR/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="is_regex_url" id="is_regex_url" value="1">
<label for="is_regex_url">{Treat this URL as a regular expression}</label> 
<a id="showInfoLink" onclick="showHideRegexExplanation()" href="javascript:void(0);">{(Explain)}</a>
<a id="hideInfoLink" onclick="showHideRegexExplanation()" href="javascript:void(0);" style="display: none;">{(Hide Info)}</a>

<BR/>
<div id="regex_explanation" style="display: none; margin-left: 100px;">
<span style="font-style: italic;">
<p>{When checked, the text is treated as a regular expression.} 
<span style="font-weight: bold;">{Note that including a bad regular expression or one that takes too long will break your website.}</span>
{So please use caution and test them elsewhere before trying them here. If you don't know what you're doing please don't use this option (as it's not necessary for the functioning of the plugin).}</p>

<p>{Example}: &nbsp;&nbsp;&nbsp;<span style="font-weight: bold;">/events/(.+)</span></p>
<p>
<span style="font-weight: bold;">/events/(.+)</span> {will match any URL that begins with} 
<span style="font-weight: bold;">/events/</span> {and redirect to the specified page.}
{Since a capture group is used, you can use a $1 replacement in the destination string of an external URL.}
</p>

<p>
{First, all of the normal "exact match" URLs are checked, then all of the regular expression URLs are checked.}
</p>    
</span>
</div>


<script>
    function showHideRegexExplanation() {
        var hiddenBlock = document.getElementById("regex_explanation");
        var hideInfoLink = document.getElementById("hideInfoLink");
        var showInfoLink = document.getElementById("showInfoLink");
        if (hiddenBlock.style.display === "none") {
            hiddenBlock.style.display = "block";
            hideInfoLink.style.display = "inline";
            showInfoLink.style.display = "none";
            
        } else {
            hiddenBlock.style.display = "none";
            hideInfoLink.style.display = "none";
            showInfoLink.style.display = "inline";
        }
    }
</script>


<!-- - - - - - - - - - - - - - - - - - - - send to this URL -->
 <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 
  
<style>
    .indent-depth-0.ui-menu-item {
        padding-left: 10px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-1.ui-menu-item {
        padding-left: 20px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-2.ui-menu-item {
        padding-left: 30px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-3.ui-menu-item {
        padding-left: 40px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-4.ui-menu-item {
        padding-left: 50px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-5.ui-menu-item {
        padding-left: 60px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-6.ui-menu-item {
        padding-left: 70px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-7.ui-menu-item {
        padding-left: 80px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-8.ui-menu-item {
        padding-left: 90px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .indent-depth-9.ui-menu-item {
        padding-left: 100px;
        width: -moz-available;          /* WebKit-based browsers will ignore this. */
        width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
        width: stretch;
    }
    .ui-autocomplete {
        max-height: 400px;
        overflow-y: auto;
        /* prevent horizontal scrollbar */
        overflow-x: hidden;
        padding-left: 0px;
    }
    ul .ui-autocomplete-category {
        font-weight: bold;
        margin: .8em 0 .2em;
        line-height: 1.5;
        
        /** custom **/
        display: flex;
        color: gray;
        font-weight: normal;
        padding-left: 0px;
    }
    .ui-menu-item {
       /* color: black; */
    }
</style>

<strong><label for="dest">{Redirect to}:</label></strong>
<select style="max-width: 75%;" id="dest" name="dest">
{selectOptionsGoHere}
</select>
<BR/>
<input id="redirect_to_user_field" placeholder="{(Type a page name or an external URL)}" style="width: 50%;" type="text" name="redirect_to_user_field" value=""> 
<span id="redirect_to_user_field_explanation" style="font-style: italic;">{(Type a page name or an external URL)}</span>
<BR/>
<input id="redirect_to_data_field_id" style="width: 50%;"  name="redirect_to_data_field_id" > (type="hidden")
<BR/>
<input id="redirect_to_data_field_title" style="width: 50%;"  name="redirect_to_data_field_title" > (type="hidden")
<BR/>


<!-- - - - - - - - - - - - - - - - - - - - or send to this URL -->
<strong><label for="external">{External URL}:</label></strong>
<input id="external" style="width: 200px;" type="text" name="external" value=""> {(Required if Redirect to is set to External Page)}
<BR/>

<!-- - - - - - - - - - - - - - - - - - - - use this redirect type -->
<strong><label for="code">{Redirect Type}:</label></strong>
<select id="code" name="code">
    <option value="301" {301selected}>{301 Permanent Redirect}</option>
    <option value="302" {302selected}>{302 Temporary Redirect}</option>
</select>

<BR/>
<input type="submit" value="{Add Redirect}" class="button-secondary">


</form>
